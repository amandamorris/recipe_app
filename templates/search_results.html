{% extends 'base.html' %}
{% block content %}

The search results!

<ul>
{% for result in response['results'] %}
    <div class='recipe' id='div-{{ result['id'] }}'>
        <div class='header'>
            <li class='recipe_name' id="{{ result['id'] }}"><a href="#{{ result['id'] }}">{{ result['title'] }}</a>
                - ready in {{ result['readyInMinutes'] }} minutes</li>
            {% if 'username' in session %}
                <button hidden type='button' data-id="{{ result['id'] }}" class='starButton'>Star this recipe!</button>
                <div class="userid" data-user="{{ session['username'] }}"> </div>
                <div class="hashtags">Current Hashtags:
                    <div id="hashtags-{{ result['id'] }}">
                    {% if result['tags'] %}
                            {% for tag in result['tags'] %}
                                {{ tag[0] }}
                            {% endfor %}
                    {% endif %}
                    </div>

                <datalist id="userhashtaglist">
                {% for hashtag in hashtags %}
                    <option value="{{ hashtag.hashtag_name }}">
                {% endfor %}
                </datalist>
                
                <p>Add a hashtag:
                    <input type="text" name="hashtag-{{ result['id'] }}" class="hashtag" list="userhashtaglist">
                    <input type="submit" class="submit-button" data-id="{{ result['id'] }}" value="add"></p>
                </p>Remove a hashtag:
                    <select id="del-hashtag-{{ result['id'] }}" class="hashtag">
                        {% for tag in result['tags'] %}
                            <option value="{{ tag[0] }}">{{ tag }}</option>
                        {% endfor %}
                    <input type="submit" class="del_hashtag" data-id="{{ result['id'] }}" value="remove"></p>
                </div>
            {% endif %}
        </div>

    {% if result['image'] %}
        <img src="https://spoonacular.com/recipeImages/{{ result['image'] }}" height="150" width="150">
    {% endif %}

    <div class="recipe" id="summary-{{ result['id'] }}">
        </div>
            <div class="ingredients" id="ingredients-{{ result['id'] }}"></div>
            <div class="instructions" id="instructions-{{ result['id'] }}"></div>
    </div>
        
<br>
{% endfor %}
</ul>

<!-- <script src="../static/recipes.js"></script> -->
{% endblock %}
