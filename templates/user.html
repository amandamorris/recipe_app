{% extends 'base.html' %}
{% block content %}

<h2>Hello {{ user.username }}!</h2>

<p>Your starred recipes:</p>
<ul>
{% for recipe in user.recipes %}
    <li>{{ recipe.recipe_name }}
{% endfor %}
</ul>

<p>Your Hashtags:</p>
<ul>
{% for hashtag in user.hashtags %}
    <!-- <li><a href="/users/{{ user.username }}/{{ hashtag.hashtag_name }}">{{ hashtag.hashtag_name }}</a></li> -->
    <li class="hashtag_bullet" data-hashtag-name="{{ hashtag.hashtag_name }}" data-username="{{ user.username }}">{{ hashtag.hashtag_name }}</li>
    <div class="hashtag_list"> </div>
{% endfor %}
</ul>

<script src="https://code.jquery.com/jquery.js"></script>
<script>
  "use strict";

function showHashRecipes(results){
    console.dir(results);
}

function getHashRecipes(evt){
    // Do I need this next line?
    // evt.preventDefault();
    var hashtag = $(this).data("hashtag-name")
    var username = $(this).data("username")
    var params = {"username": username, "hashtag": hashtag}
    // console.log(params)

    $.get('/user-hashtag-recipes.json', params, showHashRecipes);
    console.log("got a result");
}
$('.hashtag_bullet').on('click', getHashRecipes);

</script>

{% endblock %}